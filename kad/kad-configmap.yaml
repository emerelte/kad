---
apiVersion: v1
kind: Namespace
metadata:
  name: kad
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: kad-config-file
  namespace: kad
data:
  config.yaml: |
    PROMETHEUS_URL: "http://prometheus.monitoring.svc.cluster.local:9090"
    START_TIME: datetime.datetime.strptime("2021-06-23 14:30:00", "%Y-%m-%d %H:%M:%S") # the cluster is 2h behind!
    END_TIME: datetime.datetime.strptime("2021-06-23 14:32:00", "%Y-%m-%d %H:%M:%S")
    METRIC_NAME: "request_duration_seconds_count"
    QUERY: 'rate(request_duration_seconds_count{job="kubernetes-service-endpoints", kubernetes_name="front-end", kubernetes_namespace="sock-shop", method="get", name="front-end", route="/", service="front-end", status_code="200"}[1m])'
    APP_URL: "http://localhost:5000/"
    UPDATE_DATA_ENDPOINT: "update_data"
    PLOT_RESULTS_ENDPOINT: "plot_results"
    UPDATE_INTERVAL_SEC: 10
